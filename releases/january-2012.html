<!DOCTYPE html>
<html lang="en">
<head>
  <meta name=viewport content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  
  <title>January 2012 Release Notes</title>
  <meta name="description" content="">
  <meta name="author" content="">
  <link href="https://fonts.googleapis.com/css?family=Maven+Pro:400,700" media="screen" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" media="screen" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Merriweather:400,700" media="screen" rel="stylesheet" type="text/css" />
  <link href="/bootstrap/css/bootstrap.css" rel="stylesheet">
  <link rel="stylesheet" href="/stylesheets/font-awesome.min.css">
  <!--[if IE 7]>
  <link rel="stylesheet" href="/stylesheets/font-awesome-ie7.min.css">
  <![endif]-->

  <!--<link href="../assets/css/bootstrap-responsive.css" rel="stylesheet">-->
  <link href="/stylesheets/custom.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
  <script src="/javascripts/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <!--  <link rel="apple-touch-icon-precomposed" sizes="144x144"
          href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114"
          href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72"
          href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
  <link rel="shortcut icon" href="https://d3qcdigd1fhos0.cloudfront.net/blog/img/favicon.ico">
  <link rel='alternate' type='application/atom+xml' title='search.gov Atom feed' href='/all.atom' />
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="/javascripts/bootstrap3-typeahead.js"></script>
 </head>

<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <a class="navbar-brand" href="/">
        <span class="search">Search.gov</span>
      </a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

      <form class="navbar-form navbar-left form-search" accept-charset="UTF-8" action="https://find.search.gov/search/" id="search-form" method="get">
        <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
        <input name="affiliate" id="affiliate" type="hidden" value="usasearch">
        <div class="input-group input-append">
          <label for="search-query" class="hide">Query</label>

          <input name="query" autocomplete="off"  type="text" class="typeahead form-control search-query" id="search-query" data-provide="typeahead" >
          <span class="input-group-btn">
            <button type="submit" class="btn btn-nav" aria-label="Left Align" id="search-button">
              <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
            </button>
          </span>
        </div>
      </form>
      <div class="nav navbar-right">
          <a href="https://search.usa.gov/sites" class="navbar-brand"><i
              class="icon-user icon-white"></i>&nbsp;Login</a>
      </div>&nbsp;&nbsp;&nbsp;<div class="nav navbar-right">
          <a href="http://search.usa.gov/signup" class="navbar-brand">Sign up</a>
      </div>&nbsp;&nbsp;&nbsp;<div class="nav navbar-right">
          <a href="https://search.gov/status.html" class="navbar-brand">System Status</a>
      </div>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>


<div class="col-md-offset-2 col-md-8  hidden-sm hidden-md hidden-lg">

  <form class="form-search" accept-charset="UTF-8" action="https://find.search.gov/search/" id="search-form" method="get">
    <input name="affiliate" id="affiliate" type="hidden" value="usasearch">
    <div class="input-group input-append">
      <label for="search-query" class="hide">Query</label>

      <input name="query" autocomplete="off"  type="text" class=" form-control search-query" id="search-query"  >
      <span class="input-group-btn">
        <button type="submit" class="btn btn-primary" aria-label="Left Align" id="search-button">
          <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
        </button>
      </span>
    </div>
  </form>
</div>


<div class="container-fluid">
  <div class="col-md-8 col-md-offset-2">

    <!-- do not remove as used to parse in usasearch -->
    <main id="main-container">
      <article class="article feature" style="padding:0 30px; margin-top: 10px;">
  
  <h1>
    <a href="/releases/january-2012.html">January 2012 Release Notes</a>
  </h1>
  

  <div class='post-content'>
    <p>As we start 2012, we want to highlight two major, new features.</p>

<ol>
  <li>Discovery Tag: Our on-demand indexing engine allows you to automatically add content to your search index. You may make use of our on-demand indexing by placing our Discovery Tag (available on the Get Code page in the Admin Center) on your web pages.</li>
  <li>Themes for results pages: Our new and improved theme-based results pages help you create a customized look and feel “out of the box.” You may view the themes by adding a new site in our admin center. We’re also in the process of migrating all customers into this new user interface.</li>
</ol>

<p>Below are the details for January and, as a reminder, we divide our work into three categories.</p>

<ol>
  <li>Features: Things you actually notice.</li>
  <li>Chores: Back-end improvements that you don’t notice.</li>
  <li>Fixes: Fixes to any code issues that may arise.</li>
</ol>

<h2 id="features-for-searchers">Features for Searchers</h2>

<ul>
  <li>Searchers get better PDF result coverage in results.</li>
  <li>Searchers only see indexed documents that belong to the site’s domain collection.</li>
  <li>Searchers see MedlinePlus (health topics) and Enhanced Agency GovBoxes, when customers opt to display them via the admin center.</li>
  <li>Searchers see nicer paging.</li>
  <li>Searchers don’t see Indexed Document GovBox.</li>
  <li>Searchers can see all Indexed Document results.</li>
  <li>Searchers on template-based results pages see a nice, matching shaded header with rounded corners.</li>
  <li>Mobile searchers see colors from selected theme.</li>
  <li>Searchers see square fade on related searches and other modules.</li>
</ul>

<h2 id="features-for-agency-customers">Features for Agency Customers</h2>

<ul>
  <li>Customers see new Domains page.</li>
  <li>Customers have an easy way to pass multiple parameters.</li>
  <li>By default, customers have a useful header on results pages during signup.</li>
  <li>Customers may point at a dynamic sitemap generator for hosted sitemaps.</li>
  <li>Customers may set up sites with keyword filtered results.</li>
  <li>Customers see an updated left nav in the admin center.</li>
</ul>

<h2 id="chores">Chores</h2>

<ul>
  <li>Migrated USA.gov’s  “enhanced results” Agency and MedlinePlus to GovBoxes.</li>
  <li>Refactored search classes.</li>
  <li>Removed website URL from the Add New Site wizard.</li>
  <li>Shortened unique index for type-ahead suggestions.</li>
  <li>Upgraded Solr from 1.4 to 3.5.</li>
  <li>Changed timestamp indexing for Solr to use a trie on NewsItem model.</li>
  <li>Modified stopword analysis to include Solr CommonGrams filtering.</li>
</ul>

<h2 id="bug-fixes">Bug Fixes</h2>

<ul>
  <li>Fixed Spanish translations for indexed documents.</li>
  <li>Fixed display error when search results contain Bing matches and indexed documents.</li>
  <li>Fixed error received by customers when migrating to themes.</li>
  <li>Fixed RSS feed readers to handle 503 errors more gracefully.</li>
  <li>Disabled ActiveRecord observers during database migrations.</li>
  <li>Removed rule to allow customers to add top level domains (e.g., .gov and .mil) as site domains.</li>
  <li>Fixed parsing of PDF files.</li>
  <li>Fixed tests around Bing result counts.</li>
  <li>Preserved newlines on virtual header/footer/css fields when updated via admin center.</li>
  <li>Fixed doctype for nested PDF documents.</li>
  <li>Fixed various problems around discovery of embedded PDFs.</li>
  <li>Created error page for searchers when the search per-page query parameter is set to blank.</li>
  <li>Fixed issue where hosted sitemaps still existed for domains with no indexed documents.</li>
  <li>Weeded out indexed documents for anything that doesn’t work with URI.parse() method.</li>
  <li>Handled race condition where duplicate id/content hash pair gets past Rails but is caught in MySQL.</li>
  <li>Handled race condition where an IndexedDocument can’t be updated because another one was created.</li>
  <li>Removed assumption that pages are PDF because the URL ends in “.pdf.”</li>
  <li>Selected “Everything” on results page by default.</li>
  <li>Removed body field from the CSV download of IndexedDocument URLs</li>
  <li>Fixed infinite loop in PDF discovery and indexing.</li>
  <li>Verified IndexedDocument URL length is &lt;= 2000 rather than accepting it and silently truncating it.</li>
  <li>Used document body for documents with a blank meta description tag.</li>
</ul>

  </div>

  <div class='tags'>
    
    <a href="/tagged/release-notes"><span class="label label-info">release-notes</span></a>
    
  </div>

  <div class='time'>
    
    
    </br><span>Page last reviewed or updated:</span>
    
    
    
    <a href="/releases/january-2012.html">
      <time>February 13, 2012</time>
    </a>
  </div>

</article>

    </main>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p><a href="mailto:search@support.digitalgov.gov">Email us</a> or call us at 202-969-7426</p>
    <p> An Official Website of the U.S. Government <br />
      <a href="https://www.gsa.gov/portal/category/25729">Technology Transformation Service</a>, <a href="https://www.gsa.gov/portal/category/100000">U.S. General Services Administration</a>
    </p>
    <ul class="footer-links list-unstyled list-inline">
      <li><a href="https://www.usa.gov">USA.gov</a></li>
      <li class="muted">&bull;</li>
      <li><a href="/tos.html">Terms of Service</a></li>
      <li class="muted">&bull;</li>
      <li><a href="https://www.digitalgov.gov/about/policies/">Site Policies</a></li>
      <li class="muted">&bull;</li>
      <li><a href="/developer/">Developers</a></li>
    </ul>
  </div>
</footer>

<script type="text/javascript">
  //<![CDATA[
  var usasearch_config = { siteHandle:"usasearch" };

jQuery(document).ready(function() {
  $('.typeahead').typeahead({
      source: function (query, process) {
          return $.get('https://search.usa.gov/sayt?name=usasearch&q=' + query, function (data) {
              return process(data);
          });
      }, minLength: 2
  });
})


  // var script = document.createElement("script");
  // script.type = "text/javascript";
  // script.src = "https://search.usa.gov/javascripts/remote.loader.js";
  // document.getElementsByTagName("head")[0].appendChild(script);

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-31302465-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  //]]>
</script>

<script async type="text/javascript" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=GSA" id="_fed_an_ua_tag"></script>


</body>
</html>
