<!DOCTYPE html>
<html lang="en">
<head>
  <meta name=viewport content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
   <meta name="robots" content="noindex, follow">
  <title>Posts tagged drupal,</title>
  <meta name="description" content="">
  <meta name="author" content="">
  <link href="https://fonts.googleapis.com/css?family=Maven+Pro:400,700" media="screen" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" media="screen" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Merriweather:400,700" media="screen" rel="stylesheet" type="text/css" />
  <link href="/bootstrap/css/bootstrap.css" rel="stylesheet">
  <link rel="stylesheet" href="/stylesheets/font-awesome.min.css">
  <!--[if IE 7]>
  <link rel="stylesheet" href="/stylesheets/font-awesome-ie7.min.css">
  <![endif]-->

  <!--<link href="../assets/css/bootstrap-responsive.css" rel="stylesheet">-->
  <link href="/stylesheets/custom.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
  <script src="/javascripts/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <!--  <link rel="apple-touch-icon-precomposed" sizes="144x144"
          href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114"
          href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72"
          href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
  <link rel="shortcut icon" href="https://d3qcdigd1fhos0.cloudfront.net/blog/img/favicon.ico">
  <link rel='alternate' type='application/atom+xml' title='search.gov Atom feed' href='/all.atom' />
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="/javascripts/bootstrap3-typeahead.js"></script>
 
 <!-- Back Soon! — https://github.com/GSA/back-soon -->
 <script type="text/javascript">
 
   url = "search.gov";
 
   msg="<p><strong><span>Due to a lapse in government funding</span>, the "+url+" site and regular customer support will be unavailable until further notice.</strong> The Search.gov search system will remain operational and maintained.</p><p class='bs_usa'>Updates regarding government operating status and resumption of normal operations can be found at <a href='https://usa.gov' title='https://usa.gov'>usa.gov</a>.</p>",window.onload=function(){document.body.innerHTML+="<div id='bs'><div>"+msg+"<a href='#' title='Close' id='bs_close'>Continue to "+url+" »</a></div></div>"},document.onclick=function(n){"bs"!=n.target.id&&"bs_close"!=n.target.id||(bs.style.display="none")};</script>
 <style media="screen">#bs{background:#000;opacity:1.0;width:100%;height:100%;position:absolute;top:0;left:0;right:0;bottom:0}#bs div{position:absolute;top:1.5em;left:0;right:0;margin:0 auto;padding:2em 2em 2.5em;background:#fff;width:90%;box-sizing:border-box;color:#000;font-family:Helvetica,Arial,sans-serif}#bs span{background:#FFC116}#bs a{color:blue}#bs_close{margin-top:15px;padding:10px 15px;border:2px solid blue;display:inline-block;font-weight:700}#bs p{margin-top:0;font-size:24px;line-height:30px}#bs .bs_usa{font-size:18px;line-height:24px}@media only screen and (min-width: 600px){#bs div{padding:2.5em 2.5em 3em;top:5em;width:600px}}</style>
 </head>

<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <a class="navbar-brand" href="/">
        <span class="search">Search.gov</span>
      </a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

      <form class="navbar-form navbar-left form-search" accept-charset="UTF-8" action="https://find.search.gov/search/" id="search-form" method="get">
        <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
        <input name="affiliate" id="affiliate" type="hidden" value="usasearch">
        <div class="input-group input-append">
          <label for="search-query" class="hide">Query</label>

          <input name="query" autocomplete="off"  type="text" class="typeahead form-control search-query" id="search-query" data-provide="typeahead" >
          <span class="input-group-btn">
            <button type="submit" class="btn btn-nav" aria-label="Left Align" id="search-button">
              <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
            </button>
          </span>
        </div>
      </form>
      <div class="nav navbar-right">
          <a href="https://search.usa.gov/sites" class="navbar-brand"><i
              class="icon-user icon-white"></i>&nbsp;Login</a>
      </div>&nbsp;&nbsp;&nbsp;<div class="nav navbar-right">
          <a href="http://search.usa.gov/signup" class="navbar-brand">Sign up</a>
      </div>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>


<div class="col-md-offset-2 col-md-8  hidden-sm hidden-md hidden-lg">

  <form class="form-search" accept-charset="UTF-8" action="https://find.search.gov/search/" id="search-form" method="get">
    <input name="affiliate" id="affiliate" type="hidden" value="usasearch">
    <div class="input-group input-append">
      <label for="search-query" class="hide">Query</label>

      <input name="query" autocomplete="off"  type="text" class=" form-control search-query" id="search-query"  >
      <span class="input-group-btn">
        <button type="submit" class="btn btn-primary" aria-label="Left Align" id="search-button">
          <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
        </button>
      </span>
    </div>
  </form>
</div>


<div class="container-fluid">
  <div class="col-md-8 col-md-offset-2">
    <!-- do not remove as used to parse in usasearch -->
    <main id="main-container">
      <!-- begin tag layout -->
<p class="muted">Posts tagged <strong>drupal,</strong></p>

<div class='articles'>
  
  <article class='article'>
 
    
    <h1>
      <a href="/manual/drupal-module-troubleshooting.html">Drupal Module Troubleshooting Tips</a>
    </h1>
    

    <div class='post-content'>
      <blockquote>
  <p><strong>Important Note:</strong> April, 2018. For new implementations, the Search.gov team recommends you index your content with us not using our Drupal module to send content to our i14y indexing API, but rather by publishing a comprehensive XML sitemap, which we can use to index your content. We recommend the <a href="https://www.drupal.org/project/xmlsitemap">XML Sitemap module</a> <i class="icon-external-link"><span>(External link)</span></i>. <a href="/blog/six-months-in.html">Read more.</a></p>
</blockquote>

<p>If you have installed the <code>usasearch</code> <a href="https://drupal.org/project/usasearch">Drupal module</a> <i class="icon-external-link"><span>(External link)</span></i> to integrate your Drupal CMS with the Search.gov service but are having trouble, the following suggestions should help you identify where the problem is. If after working through these items you still have questions, <a href="mailto:search@support.digitalgov.gov">reach out to our team</a> and, though we’re not Drupal experts, we can try to help.</p>

<p><a href="#search-errors">Skip to Search error troubleshooting tips</a></p>

<h2 id="indexing-errors">Indexing errors</h2>

<h3 id="do-you-have-the-right-module-for-your-drupal-version">Do you have the right module for your Drupal version?</h3>

<p>We have modules for both Drupal 7 and Drupal 8. If your site is in Drupal 7, use <code>usasearch-7.x-5.7</code>. If your site is in Drupal 8, click <a href="https://www.drupal.org/project/usasearch/releases">View all Releases</a> <i class="icon-external-link"><span>(External link)</span></i> and select API version <code>8.x</code>.</p>

<h3 id="have-you-set-up-an-i14y-drawer">Have you set up an i14y drawer?</h3>

<p>In order to send content from Drupal to our system, you’ll need an index to send the content into. We call these indexes “Drawers”, because like drawers in a filing cabinet, all the items put into them will be the content you can search against. <a href="/manual/i14y-drawers.html">Read more about Drawers here</a>. In order to set up a drawer, your search site will need to be enabled for i14y, so <a href="mailto:search@support.digitalgov.gov">contact us</a> to request that.</p>

<h3 id="has-any-content-actually-been-sent-to-us">Has any content actually been sent to us?</h3>

<p>The module sends content when someone hits <code>save</code> on a node, or when you run <code>re-index site</code>. In Drupal 7, <code>re-index site</code> is found on the main Drupal search settings page (<code>YOUR-DRUPAL-SITE.gov/admin/config/search/settings</code>); in Drupal 8, you can re-index the site from the bottom of the module settings page.</p>

<ul>
  <li>If these actions have indeed happened, check the Drupal recent log messages (<code>YOUR-DRUPAL-SITE.gov/admin/reports/dblog</code>) to see if there’s anything related to <code>usasearch</code>, and please <a href="mailto:search@support.digitalgov.gov">send us screenshots of the errors</a>.</li>
  <li>If these actions haven’t yet happened, please hit <code>save</code> on a node, and see if that item appears in your Drawer. You can view the contents of your Drawer by selecting <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Content &gt; i14y Drawers &gt; Show. If the item isn’t there, then check the Drupal log for an error.</li>
</ul>

<h3 id="is-your-firewall-letting-you-communicate-with-us">Is your firewall letting you communicate with us?</h3>

<p>If content isn’t reaching us, it could be that your firewall is not allowing you to reach i14y. Please run the following from the command line, from inside the same firewall as your web server, if possible. Note: you’ll need to customize the string below with your i14y drawer’s handle and secret token (where it says <code>YOURDRAWERHANDLE:YOURDRAWERSECRETTOKEN</code>):</p>

<pre><code>curl "https://i14y.usa.gov/api/v1/documents" -XPOST -H "Content-Type:application/json" -u YOURDRAWERHANDLE:YOURDRAWERSECRETTOKEN -d '{"document_id":"1", "title":"test item", "created":"2017-02-16T10:19:02", "path":"https://www.usa.gov", "description":"This is a test", "content":"This is a test to see if the agency web server is able to communicate with the i14y API. If this document does not show up in the drawer in the admin center, then the i14y location may need to be whitelisted in order to facilitate indexing."}'
</code></pre>

<ul>
  <li>
    <p>If you get a <code>403 Forbidden</code> response</p>

    <p>Please contact your security team to request the i14y hostname be whitelisted: <code>https://i14y.usa.gov/</code></p>

    <p>We can’t give you an IP to whitelist, as our system is hosted in AWS, and so i14y’s IP address changes regularly.</p>
  </li>
  <li>
    <p>If you get a <code>200 OK</code> response</p>

    <p>Your system is able to communicate with our system, so the issue must lie in how the module is working with your Drupal instance. <a href="mailto:search@support.digitalgov.gov">Send us</a> all the information and screenshots of errors that you can, and we’ll help you troubleshoot.</p>

    <p>Be sure you delete the test document or it will be included in your search results. You can delete it from the command line. Run this command:</p>

    <pre><code>curl "https://i14y.usa.gov/api/v1/documents/1" -XDELETE -u YOURDRAWERHANDLE:YOURDRAWERSECRETTOKEN
</code></pre>
  </li>
  <li>
    <p>If you get any other error response</p>

    <p>Please take a screenshot and <a href="mailto:search@support.digitalgov.gov">send it to us</a> to report the issue so we can investigate the error.</p>
  </li>
</ul>

<h3 id="do-you-have-another-question">Do you have another question?</h3>

<p>If you have another question about indexing with our service through the <code>usasearch</code> Drupal module, <a href="mailto:search@support.digitalgov.gov">don’t hesitate to ask</a>!</p>

<p><a name="search-errors"></a></p>

<h2 id="search-errors">Search errors</h2>

<h3 id="is-your-drupal-site-search-box-showing-drupal-search-results">Is your Drupal site search box showing Drupal search results?</h3>

<ul>
  <li>
    <p>If you have a <strong>Drupal 7</strong> site</p>

    <p>Our Drupal 7 module is designed to take over the native Drupal search box on your site, and direct queries to the site you specify in the <code>affiliate site handle</code> field. If you’re seeing other results - either the Drupal search results or a different search site in our system, find out if the search box form code had been manually modified to point to this other location. Our module will only work with out-of-the-box Drupal search boxes. If the search box form code was modified, you’ll need to manually point it to our service using the required parameters - you can see <a href="/manual/code.html">general information on form code here</a>, or you can view examples customized to your particular site within the Admin Center, under <code>Activate</code>. You may also be able to restore the form code to the Drupal default, to take advantage of the module’s site handle field and be able to modify the site handle without a dev.</p>
  </li>
  <li>
    <p>If you have a <strong>Drupal 8</strong> site</p>

    <p>In Drupal 8, we don’t override the native Drupal search box. Instead, you need to place a <code>USA Search Form</code> block, and disable the default Drupal search. To do this, go to <code>YOUR-DRUPAL-SITE.gov/admin/structure/block</code> in your Drupal site, and do <code>ctrl-F</code> to locate the word <code>Search</code> in the list. Disable the block that says just <code>Search</code>. Use <code>Place block</code> to insert a <code>USA Search Form</code> block in the block region of your choice. The search box in this block will point at the search site you entered in the module settings.</p>
  </li>
</ul>

<h3 id="is-the-drupal-site-search-box-directing-to-the-wrong-searchgov-site">Is the Drupal site search box directing to the wrong Search.gov site?</h3>

<p>Your search box should use the site handle you entered on the module settings page. If you run a search and are brought to our search results page, but see the wrong search site, check to see if the Drupal search box form code was manually modified to point to another search site handle (the <code>affiliate</code> parameter in the form code). If it was modified, you’ll need to change the site handle directly in that modified code. You may also be able to restore the form code to the Drupal default, to take advantage of the module’s site handle field and be able to modify the site handle without a developer.</p>

<h3 id="do-you-have-another-question-1">Do you have another question?</h3>

<p>If you have another question about searching through our service with the <code>usasearch</code> Drupal module, <a href="mailto:search@support.digitalgov.gov">don’t hesitate to ask</a>!</p>

    </div>

    <div class='tags'>
      
      <a href="/tagged/drupal,"><span class="label label-info">drupal,</span></a>
      
      <a href="/tagged/i14y"><span class="label label-info">i14y</span></a>
      
    </div>
   <div class='time'>
      
      
      
      
      <a href="/manual/drupal-module-troubleshooting.html">
        <time datetime="2018-04-12">April 12, 2018</time>
      </a>
    </div>
    </article>
  
  <article class='article'>
 
    
    <h1>
      <a href="/manual/drupal-8-module-instructions.html">Step by Step Instructions for Setting Up the Drupal 8 usasearch module</a>
    </h1>
    

    <div class='post-content'>
      <blockquote>
  <p><strong>Important Note:</strong> April, 2018. For new implementations, the Search.gov team recommends you index your content with us not using our Drupal module to send content to our i14y indexing API, but rather by publishing a comprehensive XML sitemap, which we can use to index your content. We recommend the <a href="https://www.drupal.org/project/xmlsitemap">XML Sitemap module</a> <i class="icon-external-link"><span>(External link)</span></i>. <a href="/blog/six-months-in.html">Read more.</a></p>
</blockquote>

<p>This documentation will walk you through setting up the <code>usasearch</code> <a href="https://www.drupal.org/project/usasearch/releases?api_version%5B%5D=7234">Drupal 8 module</a> <i class="icon-external-link"><span>(External link)</span></i> field by field, to integrate your Drupal CMS with the Search.gov service. If you have trouble, take a look at our <a href="/manual/drupal-module-troubleshooting.html">troubleshooting tips</a>.</p>

<p>These instructions follow the order of settings listed in our Drupal module at <code>YOUR-DRUPAL-8-SITE.gov/admin/config/search/usasearch</code>.</p>

<p>Instructions for setting up the <strong>Drupal 7</strong> module are <a href="/manual/drupal-7-module-instructions.html">here</a>.</p>

<h2 id="search-settings">Search Settings</h2>

<p>This section allows you to configure how the <code>USA Search Block</code> will use our service. In Drupal 8, you must place the <code>USA Search Block</code>, as we do not override the native Drupal Search. We recommend you disable the native Drupal Search block.</p>

<h3 id="site-handle">Site handle</h3>

<p>Required. Enter the site handle you gave your search site. This is found in our <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Dashboard &gt; Settings.</p>

<h3 id="enable-autocomplete">Enable autocomplete</h3>

<p>Recommended setting: Checked.</p>

<p>Check this box if you want to enable the Javascript for our <a href="/developer/">Type-ahead API</a>. Suggestions for popular queries will appear below your search box as searchers begin typing. A query must have been run more than 10 times in a day for it to become a search suggestion.</p>

<h3 id="search-domain">Search domain</h3>

<p>We offer <a href="/manual/cname.html">domain masking</a>, which allows you to display <code>search.YOURAGENCY.gov</code> in the URL of your search results page, instead of the default <code>search.usa.gov</code>.</p>

<p>NOTE: Only change this setting if you have domain masking configured for your search site! If you haven’t set it up, leave the default <code>https://search.usa.gov</code> until you’ve completed the masking steps.</p>

<h2 id="connecting-drupal-to-our-system-for-direct-indexing">Connecting Drupal to Our System for Direct Indexing</h2>

<p>Highly recommended! The “i14y API settings” section allows you to send content directly to our indexes via our i14y API. This means that you’ll have full control over the content of your search results, and your search index will be updated in real time. Note: If you do not want to index your content with us yourselves, do not complete this section. If you only want to use our system for search, skip this section and the following Indexing section.</p>

<h3 id="enable-i14y-api">Enable i14y API</h3>

<p>Recommended! If this box is checked, the module will send content to Search.gov for indexing. The <code>Drawer Handle</code> and <code>API Secret Token</code> fields will be required.</p>

<h3 id="drawer-handle">Drawer Handle</h3>

<p>Enter your i14y  “drawer handle”. This is the name you gave your drawer and is found in: <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Manage Content &gt; i14y Drawers.</p>

<h3 id="i14y-api-secret-token">i14y API Secret Token</h3>

<p>Enter your i14y drawer’s “secret token”. This can be found in our system in: <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Manage Content &gt; i14y Drawers, select the option, <code>Show</code>.</p>

<h3 id="content-types">Content Types</h3>

<p>Recommended setting (default): Checked - all types.</p>

<p>Select which content types will be sent to our indexes. Content types unchecked here will <strong>not</strong> be indexed. You can also control indexing status of individual nodes in their Search.gov settings.</p>

<p>If you exclude a content type from indexing, and later decide to <em>include</em> it, nodes of this type will be indexed on the next cron run. You may also want to review any nodes that were created in the interim, to ensure in their individual Search.gov settings that they are enabled for indexing.</p>

<h3 id="description-view-mode">Description View Mode</h3>

<p>Recommended setting: Teaser.</p>

<p>Select the search result description text that works best for your site. Choose among the text you’ve set as your teaser, RSS item content, Drupal search index snippet, or full text. The view mode  will need to be enabled and configured for each content type. If the view mode is not available for a content type, “Teaser” will be used. The full text of your node will still be searchable.</p>

<p>Note: If you don’t like the content that’s being sent to us as the Teaser, you can make changes for that content type’s at <code>YOUR-DRUPAL-8-SITE.gov/admin/structure/types/manage/[CONTENT TYPE] &gt; Display settings</code> or
<code>YOUR-DRUPAL-8-SITE.gov/admin/structure/types/manage/[CONTENT TYPE]/display/teaser</code></p>

<h3 id="enable-i14y-logging">Enable i14y logging</h3>

<p>Recommended setting (default): Checked.</p>

<p>Check this box to log i14y API operations to the watchdog log. On <code>YOUR-DRUPAL-8-SITE.gov/admin/reports/dblog</code>, filter by Type <code>usasearch</code>.</p>

<h3 id="alternate-indexing-domain">Alternate indexing domain</h3>

<p>Do you edit your site on one domain or subdomain, but publish on another? If so, use this field to set the domain you want us to present for your content on the search results page. For instance, if you enter <code>www.YOURAGENCY.gov</code> here, nodes that are stored in Drupal under <code>edit.YOURAGENCY.gov</code> would be indexed with us as <code>www.YOURAGENCY.gov</code>.</p>

<h2 id="indexing">Indexing</h2>

<h3 id="re-index-site">Re-index site</h3>

<p>If you click <code>re-index site</code>, we will begin a full-site reindexing on your next cron run. You can wait for cron to run, or you can run it manually.</p>

<h3 id="number-of-items-to-index-per-cron-run">Number of items to index per cron run</h3>

<p>Use this throttle to adjust the number of documents sent to us in each cron run. The number that is best for your site will depend on various factors, including your firewall.</p>

<h2 id="save-configuration">Save configuration</h2>

<p>After you save these settings, the module will send a command to us when you hit <code>Save</code> on a node in Drupal, either to add the node to the index, update it, or delete it from the index.</p>

<h2 id="having-trouble">Having trouble?</h2>

<p>Take a look at our <a href="/manual/drupal-module-troubleshooting.html">troubleshooting tips</a>, and don’t hesitate to <a href="mailto:search@support.digitalgov.gov">reach out</a>. We’re not Drupal experts ourselves, but we’ll try to help.</p>


    </div>

    <div class='tags'>
      
      <a href="/tagged/drupal,"><span class="label label-info">drupal,</span></a>
      
      <a href="/tagged/i14y"><span class="label label-info">i14y</span></a>
      
    </div>
   <div class='time'>
      
      
      
      
      <a href="/manual/drupal-8-module-instructions.html">
        <time datetime="2018-04-12">April 12, 2018</time>
      </a>
    </div>
    </article>
  
  <article class='article'>
 
    
    <h1>
      <a href="/manual/drupal-7-module-instructions.html">Step by Step Instructions for Setting Up the Drupal 7 usasearch module</a>
    </h1>
    

    <div class='post-content'>
      <blockquote>
  <p><strong>Important Note:</strong> April, 2018. For new implementations, the Search.gov team recommends you index your content with us not using our Drupal module to send content to our i14y indexing API, but rather by publishing a comprehensive XML sitemap, which we can use to index your content. We recommend the <a href="https://www.drupal.org/project/xmlsitemap">XML Sitemap module</a> <i class="icon-external-link"><span>(External link)</span></i>. <a href="/blog/six-months-in.html">Read more.</a></p>
</blockquote>

<p>This documentation will walk you through setting up the <code>usasearch</code> <a href="https://drupal.org/project/usasearch">Drupal 7 module</a> <i class="icon-external-link"><span>(External link)</span></i> field by field, to integrate your Drupal CMS with the Search.gov service. If you have trouble, take a look at our <a href="/manual/drupal-module-troubleshooting.html">troubleshooting tips</a>.</p>

<p>These instructions follow the order of settings listed in our Drupal module at <code>YOUR-DRUPAL-7-SITE.gov/admin/config/search/usasearch</code>.</p>

<p>Instructions for setting up the <strong>Drupal 8</strong> module are <a href="/manual/drupal-8-module-instructions.html">here</a>.</p>

<h2 id="affiliate-site-handle">Affiliate site handle</h2>

<p>Required. Enter the site handle you gave your search site. This is found in our <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Dashboard &gt; Settings.</p>

<h2 id="drawer-handle">Drawer Handle</h2>

<p>Required. Enter your i14y  “drawer handle”. This is the name you gave your drawer and is found in: <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Manage Content &gt; i14y Drawers.</p>

<h2 id="i14y-api-secret-token">i14y API Secret Token</h2>

<p>Required. Enter your i14y drawer’s “secret token”. This can be found in our system in: <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Manage Content &gt; i14y Drawers, select the option, <code>Show</code>.</p>

<h2 id="enable-autocomplete">Enable autocomplete</h2>

<p>Recommended setting (default): Checked.</p>

<p>Check this box if you want to enable the Javascript for our <a href="/developer/">Type-ahead API</a>. Suggestions for popular queries will appear below your search box as searchers begin typing. A query must have been run more than 10 times in a day for it to become a search suggestion.</p>

<h2 id="search-domain">Search domain</h2>

<p>We offer <a href="/manual/cname.html">domain masking</a>, which allows you to display <code>search.YOURAGENCY.gov</code> in the URL of your search results page, instead of the default <code>search.usa.gov</code>.</p>

<p>NOTE: Only change this setting if you have domain masking configured for your search site! If you haven’t set it up, leave the default <code>https://search.usa.gov</code> until you’ve completed the masking steps.</p>

<h2 id="alternate-indexing-domain">Alternate indexing domain</h2>

<p>Do you edit your site on one domain or subdomain, but publish on another? If so, use this field to set the domain you want us to present for your content on the search results page. For instance, if you enter <code>www.YOURAGENCY.gov</code> here, nodes that are stored in Drupal under <code>edit.YOURAGENCY.gov</code> would be indexed with us as <code>www.YOURAGENCY.gov</code>.</p>

<h2 id="use-rules-to-index-content">Use rules to index content</h2>

<p>Check this box to index content manually with rules. IMPORTANT: If checked, the Search.gov index will not be updated unless specified in a rule action.</p>

<p>Be sure to write rules for your content types in sets of three:</p>
<ul>
  <li>adding to the index</li>
  <li>updating the index</li>
  <li>deleting from the index</li>
</ul>

<h2 id="results-description-view-mode">Results Description View Mode</h2>

<p>Recommended setting (default): Teaser.</p>

<p>Select the search result description text that works best for your site. Choose among the text you’ve set as your teaser, RSS item content, Drupal search index snippet, or full text. The view mode will need to be enabled and configured for each content type. If the view mode is not available for a content type, “Teaser” will be used. We will still index and search the full text of your content if <code>Indexed content view mode</code> is <code>Full content</code>.</p>

<p>Note: If you don’t like the content that’s being sent to us as the Teaser, you can make changes for that content type’s at <code>YOUR-DRUPAL-7-SITE.gov/admin/structure/types/manage/[CONTENT TYPE] &gt; Display settings</code> or at <code>YOUR-DRUPAL-7-SITE.gov/admin/structure/types/manage/[CONTENT TYPE]/display/teaser</code>.</p>

<h2 id="indexed-content-view-mode">Indexed content view mode</h2>

<p>Recommended setting (default): Full content.</p>

<p>If you don’t want the full text of your nodes to be searchable, select a preferred view mode to define the content that gets indexed. If the view mode is not available for a content type <code>Full content</code> will be used.</p>

<h2 id="include-by-content-type-unless-explicitly-excluded">Include by content type unless explicitly excluded</h2>

<p>Recommended setting (default): Checked.</p>

<p>Check this box to include entire content types in the search index. Include or exclude particular content types in their entirety in the Search.gov settings for the content type’s structure page, e.g. <code>YOUR-DRUPAL-7-SITE.gov/admin/structure/types/manage/article</code>. You can exclude individual nodes using the Search.gov Settings within the node edit view.</p>

<p>If this box is unchecked, node indexing will need to be managed individually. We recommend you leave the box checked on the module settings.</p>

<p>If you exclude a content type from indexing, and later decide to <em>include</em> it, nodes of this type will be indexed on the next cron run. You may also want to review any nodes that were created in the interim, to ensure in their individual Search.gov settings that they are enabled for indexing.</p>

<h2 id="save-configuration">Save configuration</h2>

<p>After you save these settings, the module will send a command to us when you hit <code>Save</code> on a node in Drupal, either to add a node to the index, update it, or delete from the index.</p>

<p>If you select <code>re-index site</code> on the main Drupal search settings page (see below), we will begin a full-site reindexing on your next cron run.</p>

<h2 id="optional-indexing-content-retroactively">Optional: Indexing content retroactively</h2>

<p>Go to the main Drupal search settings page (<code>YOUR-DRUPAL-7-SITE.gov/admin/config/search/settings</code>) and click <code>Re-index site</code>. This will start sending us content for indexing on your next cron run. You can wait for cron to run, or you can run it manually. You can also adjust the number of documents sent to us in each cron run using the <code>throttle</code> setting on the Drupal search settings page.</p>

<h2 id="having-trouble">Having trouble?</h2>

<p>Take a look at our <a href="/manual/drupal-module-troubleshooting.html">troubleshooting tips</a>, and don’t hesitate to <a href="mailto:search@support.digitalgov.gov">reach out</a>. We’re not Drupal experts ourselves, but we’ll try to help.</p>


    </div>

    <div class='tags'>
      
      <a href="/tagged/drupal,"><span class="label label-info">drupal,</span></a>
      
      <a href="/tagged/i14y"><span class="label label-info">i14y</span></a>
      
    </div>
   <div class='time'>
      
      
      
      
      <a href="/manual/drupal-7-module-instructions.html">
        <time datetime="2018-04-12">April 12, 2018</time>
      </a>
    </div>
    </article>
  
</div>


<ul class="pager" >
  

  
</ul>

<!-- end tag layout -->

    </main>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p><a href="mailto:search@support.digitalgov.gov">Email us</a> or call us at 202-969-7426</p>
    <p> An Official Website of the U.S. Government <br />
      <a href="https://www.gsa.gov/portal/category/25729">Technology Transformation Service</a>, <a href="https://www.gsa.gov/portal/category/100000">U.S. General Services Administration</a>
    </p>
    <ul class="footer-links list-unstyled list-inline">
      <li><a href="https://www.usa.gov">USA.gov</a></li>
      <li class="muted">&bull;</li>
      <li><a href="/tos.html">Terms of Service</a></li>
      <li class="muted">&bull;</li>
      <li><a href="https://www.digitalgov.gov/about/policies/">Site Policies</a></li>
      <li class="muted">&bull;</li>
      <li><a href="/developer/">Developers</a></li>
    </ul>
  </div>
</footer>

<script type="text/javascript">
  //<![CDATA[
  var usasearch_config = { siteHandle:"usasearch" };

jQuery(document).ready(function() {
  $('.typeahead').typeahead({
      source: function (query, process) {
          return $.get('https://search.usa.gov/sayt?name=usasearch&q=' + query, function (data) {
              return process(data);
          });
      }, minLength: 2
  });
})


  // var script = document.createElement("script");
  // script.type = "text/javascript";
  // script.src = "https://search.usa.gov/javascripts/remote.loader.js";
  // document.getElementsByTagName("head")[0].appendChild(script);

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-31302465-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  //]]>
</script>

<script async type="text/javascript" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=GSA" id="_fed_an_ua_tag"></script>


</body>
</html>
